{% extends 'logisticsBase.html' %}{% block localbody %}    <div class="col-lg-12 col-md-12" style="width: 40%">        <h1 class="page-header" style="font-size: 14px ; text-align: center">            <div class="panel panel-primary">                <div class="panel-heading">                    <h3 class="panel-title">用户添加</h3>                </div>                <div class="panel-body">                    <form id="msform" class="form-horizontal group-border hover-stripped" method="post"                          enctype="multipart/form-data"                          action="{% url 'sm:userAdd' %}">                        {% csrf_token %}                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">用户名:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="u_name" type="text" class="form-control"                                       placeholder="用户名" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">密码:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="u_pwd" type="text" class="form-control"                                       placeholder="密码" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">账号状态:</label>                            <div class="col-lg-2 col-md-2 col-sm-12">                                {% for c in code_info %}                                    <label class="radio">                                        <input {% if c.code == 1 %} checked {% endif %}type="radio" name="u_status_tsc"                                                                    value="{{ c.code }}">{{ c.value }}                                    </label>                                {% endfor %}                            </div>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">中文名称:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="chinese_name" type="text"                                       class="form-control" placeholder="中文名称" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">身份证号:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="identity_card" type="text"                                       class="form-control" placeholder="身份证号" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">手机号:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="telephone_number" type="text"                                       class="form-control" placeholder="手机号" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">微信号:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="wechanumber" type="text"                                       class="form-control" placeholder="微信号" autofocus="autofocus">                            </div>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">邮箱:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <input name="email" type="text" class="form-control"                                       placeholder="邮箱" autofocus="autofocus">                            </div>                            <h5 style="font-size: 20px; color: red;display: inline-block">*</h5>                        </div>                        <div class="form-group">                            <label class="col-lg-3 col-md-4 col-sm-12 control-label">角色:</label>                            <div class="col-lg-8 col-md-4 col-sm-12">                                <select id="role" name="system_role_id" class="form-control">                                    {% for role in role_info %}                                        <option value="{{ role.id }}" {% if  role.id == 6 %}                                                selected {% endif %} >{{ role.name }}</option>                                    {% endfor %}                                </select>                            </div>                        </div>                        <button type="submit" class="btn btn-primary">保存</button>                        <a class="btn btn-danger" href="{% url 'sm:userManage' %}">返回</a>                    </form>                </div>            </div>        </h1>    </div>    <script type="text/javascript">        $(function () {            $("#msform").bootstrapValidator({                live: 'disabled',//验证时机，enabled是内容有变化就验证（默认），disabled和submitted是提交再验证                submitButtons: 'button[type="submit"]',                excluded: [':disabled', ':hidden', ':not(:visible)'],//排除无需验证的控件，比如被禁用的或者被隐藏的                {#submitButtons: '#btn-test',//指定提交按钮，如果验证失败则变成disabled，但我没试成功，反而加了这句话非submit按钮也会提交到action指定页面#}                message: '通用的验证失败消息',//好像从来没出现过                feedbackIcons: {//根据验证结果显示的各种图标                    valid: 'glyphicon glyphicon-ok',                    invalid: 'glyphicon glyphicon-remove',                    validating: 'glyphicon glyphicon-refresh'                },                fields: {                    u_name: {                        validators: {                            notEmpty: {//检测非空,radio也可用                                message: '用户名不能为空'                            },                            stringLength: {//检测长度                                min: 3,                                max: 30,                                message: '长度必须在6-30之间'                            },                            regexp: {//正则验证                                regexp: /^[a-zA-Z0-9_\.]+$/,                                message: '所输入的字符不符要求'                            },                            remote: {//将内容发送至指定页面验证，返回验证结果，比如查询用户名是否存在                                url: '/sm/user_exists',                                message: '账号已存在',                                type: 'GET'                            }                        }                    },                    u_pwd: {                        validators: {                            notEmpty: {                                message: '密码不能为空'                            },                            stringLength: {                                min: 6,                                max: 30,                                message: '密码长度不少于6位'                            }                        }                    },                    chinese_name: {                        validators: {                            notEmpty: {                                message: '中文名不能为空'                            },                            stringLength: {//检测长度,                                min: 2,                                max: 5,                                message: '请输入正确的中文名'                            }                        }                    },                    identity_card: {                        validators: {                            notEmpty: {                                message: '身份证号不能为空'                            },                            stringLength: {//检测长度,                                min: 18,                                max: 18,                                message: '请输入正确的身份证号'                            },                            regexp: {//正则验证                                regexp: /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x))$/,                                message: '身份证号码为数字或数字+X'                            },                        }                    },                    telephone_number: {                        validators: {                            notEmpty: {                                message: '手机号不能为空'                            },                            stringLength: {//检测长度,                                min: 11,                                max: 11,                                message: '请输入正确的手机号'                            },                            regexp: {//正则验证                                regexp: /^[0-9]+$/,                                message: '手机号码为数字'                            },                        }                    },                                        email: {                        validators: {                            notEmpty: {                                message: '邮箱不能为空'                            },                            emailAddress: {                                message: '邮箱格式不正确'                            }                        }                    }                }            });        });    </script>{% endblock %}