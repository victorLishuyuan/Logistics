{% extends 'logisticsBase.html' %}{% block localbody %}    <script>        <!--通过设置treeTable的参数来控制树形表格的显示-->        $(function () {            $("#treeTable").treeTable({                "column": 0,                "expandLevel": 2            });        });    </script>    <div class="panel panel-primary">        <div class="panel-heading">            <h3 class="panel-title" align="center">菜单管理</h3>        </div>        <div class="panel-body">            <table id="treeTable" class="table table-striped table-bordered table-hover">                <thead>                <tr role="row">                    {#                    <th>ID</th>#}                    <th>菜单名称</th>                    <th>url</th>                    <th>菜单级别</th>                    <th>是否显示</th>                    <th>操作</th>                </tr>                </thead>                <tbody>                {% for menu in menu_list %}                    <!--id为菜单的id,pid为菜单的父亲id-->                    <tr id="{{ menu.code }}" pId="{{ menu.parent_code }}">                        {#                        <td>{{ menu.id }}</td>#}                        <td>{{ menu.name }}</td>                        <td>{{ menu.url }}</td>                        <td>{{ menu.level }}</td>                        <td>                            {% if menu.is_Enabled_tsc == 1 %}                                是                            {% endif %}                            {% if menu.is_Enabled_tsc == 0 %}                                否                            {% endif %}                        </td>                        <td>                            <a class="btn btn-success" href="{% url 'sm:menuAdd' menu.code %}">添加</a>                            <a class="btn btn-info" href="{% url 'sm:menuEdit' menu.code %}">编辑</a>                            {% if menu.parent_code != '0' %}                                <a class="btn btn-danger" onclick="userDelById('{{ menu.code }}')">删除</a>                            {% endif %}                        </td>                    </tr>                {% endfor %}                </tbody>            </table>        </div>    </div>    <script>        function userDelById(code) {            BootstrapDialog.show({                title: '信息提示',                message: '确定删除菜单?',                buttons: [{                    label: '确定',                    action: function (dialogItself) {                        dialogItself.close();                        var ajaxdata = {                            code: code                        };                        $.ajax({                            url: "/sm/menuDelByCode",                            type: "GET",                            data: ajaxdata,                            success: function (data) {                                result_info = JSON.parse(data);                                ret_code = result_info.ret_code                                ret_info = result_info.ret_info                                BootstrapDialog.show({                                    title: '信息提示',                                    message: ret_info,                                    buttons: [{                                        label: '关闭',                                        action: function (dialogItself) {                                            $(location).attr('href', '/sm/menuManage');                                            dialogItself.close();                                        }                                    }]                                });                            }                        })                    }                }, {                    label: '取消',                    action: function (dialogItself) {                        dialogItself.close();                    }                }]            });        }    </script>{% endblock %}