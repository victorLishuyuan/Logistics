{% extends 'logisticsBase.html' %}{% block localbody %}    <script type="text/javascript">        jQuery(document).ready(function ($) {            $('#my_table').bootstrapTable({                pagination: true,                pageSize: 10,                formatLoadingMessage() {                    return ""                },                formatShowingRows(pageFrom, pageTo, totalRows) {                    var aaa = pageFrom.toString();                    var bbb = pageTo.toString();                    var vvv = totalRows.toString();                    var ccc = "当前页展示第  " + aaa + "  到  " + bbb + " 条，总共  " + vvv + "  条记录";                    return ccc;                },                search: true,                strictSearch: true,                showToggle: true,                searchAlign: "right",                paginationLoop: false,            })        });        function roleAdd() {            $.ajax({                url: '/sm/roleAdd',                async: true,//同步方式发送请求，true为异步发送                type: "POST",                headers: {"X-CSRFToken": $.cookie('csrftoken')},                data: {},                success: function (result) {                    alert(result)                }            });        }    </script>    <div class="panel panel-primary">        <div class="panel-heading">            <h3 class="panel-title" align="center">角色管理</h3>        </div>        <div class="panel-body">            <a class="btn btn-primary" id="btn_add" href="{% url 'sm:roleAdd' %}" data-toggle="modal">                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>添加            </a>            <table id="my_table" class="table table-striped table-bordered table-hover">                <thead>                <tr role="row">                    <th>角色ID</th>                    <th>角色名</th>                    <th>备注</th>                    <th>操作</th>                </tr>                </thead>                <tbody>                {% for role in role_list %}                    <tr>                        <td>{{ role.id }}</td>                        <td>{{ role.name }}</td>                        <td>{{ role.note }}</td>                        <td>                            <a class="btn btn-info" href="{% url 'sm:roleEdit' role.id %}">编辑</a>                            {% if role.id != 1 %}                                <a class="btn btn-danger" onclick="roleDelById('{{ role.id }}')">删除</a>                            {% endif %}                        </td>                    </tr>                {% endfor %}                </tbody>            </table>        </div>    </div>    <script>        function roleDelById(id) {            BootstrapDialog.show({                title: '信息提示',                message: '确定删除菜单?',                buttons: [{                    label: '确定',                    action: function (dialogItself) {                        dialogItself.close();                        var ajaxdata = {                            id: id                        };                        $.ajax({                            url: "/sm/roleDelById",                            type: "GET",                            data: ajaxdata,                            success: function (data) {                                result_info = JSON.parse(data);                                ret_info = result_info.ret_info                                BootstrapDialog.show({                                    title: '信息提示',                                    message: ret_info,                                    buttons: [{                                        label: '关闭',                                        action: function (dialogItself) {                                            $(location).attr('href', '/sm/roleManage');                                            dialogItself.close();                                        }                                    }]                                });                            }                        })                    }                }, {                    label: '取消',                    action: function (dialogItself) {                        dialogItself.close();                    }                }]            });        }    </script>{% endblock %}